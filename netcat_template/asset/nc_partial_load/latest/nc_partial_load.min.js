(function(l,k,m,t,u,z,G){function A(a){nc_event_dispatch("ncPartialUpdate",{newTemplateContent:a})}function B(a){var c=[],b=k.createNodeIterator(k.body,NodeFilter.SHOW_COMMENT,null,!1),d,f;for(a&&(a=H(a));d=b.nextNode();)if(f=d.nodeValue.match(I))try{var e=d[v]||(d[v]=z(f[2]));var g=e.data;var p=e.src;if(a){var n=J(a,p,g);if(!n)continue;if(!0!==n)for(var h in n)g[h]=n[h]}var C=p+w(g||{});var l=e.template;var m={start:d,seq:f[1],param:e,query:C,key:x+(l?l+"#":"")+C};y(m);c.push(m)}catch(K){q&&q.log("Partial error:",
K.message,d)}return c}function H(a){u(a)||(a=[[a]]);h(a,function(c,b){u(c)||(a[b]=c=[c]);c[0]=(""+c[0]).split(/[\s,]+/)});return a}function y(a){for(var c=[],b=a.start;b=b.nextSibling;){if(8==b.nodeType&&-1!=b.nodeValue.indexOf("/nc_partial "+a.seq))return c;c.push(b)}throw Error();}function D(a,c){var b=a.start.parentNode;h(y(a),function(a){b.removeChild(a)});var d=b.insertBefore(k.createElement("DIV"),a.start.nextSibling);d.insertAdjacentHTML("afterend",c);b.removeChild(d);E(y(a));a.param.store&&
m.setItem(a.key,c)}function J(a,c,b){var d=!1,f=!Object.keys(b).length;h(a,function(a){var g=a[1],e;if((e=-1!=a[0].indexOf(c))&&!(e=g===G||null===g&&f)&&(e=g))a:{e=b||{};for(var n in g)if(e[n]!=g[n]){e=!1;break a}e=!0}if(e)return d=a[2]||!0,!1});return d}function F(a,c,b){if(a.length){var d,f={partial:[],referer:location.toString(),json:1};h(a,function(a){d=a.param.template||d;a=a.query;var b=f.partial;-1==b.indexOf(a)&&b.push(a)});d&&(f.template=d);var e=new XMLHttpRequest;e.open("POST",(l.NETCAT_PATH||
"/netcat/")+"partial.php"+(l[v]||""));e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status)try{var d=z(e.responseText);L(a,d);d.$&&M(d.$);A(d);c(d)}catch(p){q&&q.log(p),b(e)}else b(e)};e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(w(f).slice(1))}}function L(a,c){h(a,function(a){a.query in c&&D(a,c[a.query])})}function M(a){var c=k.createElement("DIV");c.innerHTML=a;var b=k.createElement("DIV");h(c.childNodes,function(a){var c=a.tagName,d=N[c],g;d&&((g=
a.getAttribute(d))&&k.querySelector(c+"["+d+'="'+g+'"]')||b.appendChild(a))});b.childNodes.length&&(b.style.display="none",k.body.appendChild(b),E(b.childNodes))}function w(a,c){var b=[];for(f in a){var d=a[f];var f=t(f);c&&(f=c+"["+f+"]");u(d)?h(d,function(a){b.push(f+"[]="+t(a))}):"object"==typeof d?b=b.concat(w(d,f)):b.push(f+"="+t(d))}c||(b=b.length?"?"+b.join("&"):"");return b}function E(a){function c(a){h(a,function(a){"SCRIPT"==a.tagName?a.src?f.push(a.src):e.push(a.text):a.childNodes.length&&
c(a.childNodes)})}function b(a,b){var c=k.head,e=k.createElement("SCRIPT");a?(e.onload=e.onerror=d,e.src=a):e.appendChild(k.createTextNode(b));c.appendChild(e);c.removeChild(e)}function d(){++g>=f.length&&b(!1,e.join("\n"))}var f=[],e=[],g=-1;c(a);h(f,b);d()}function r(){}function h(a,c){for(var b=0;b<a.length&&!1!==c(a[b],b);b++);}l.nc_partial_load=function(a,c,b){F(B(a),c||r,b||r)};l.nc_partial_clear_cache=function(){for(var a in m)m.hasOwnProperty(a)&&!a.indexOf(x)&&m.removeItem(a)};k.addEventListener("DOMContentLoaded",
function(){var a=[],c={},b;h(B(),function(d){var f=d.param,e;if(f.defer){var g=!0;f.store&&null!==(e=m.getItem(d.key))&&(D(d,e),c[d.query]=e,b=!0,g=!1)}(g||f.reload)&&a.push(d)});b&&A(c);F(a,r,r)});var I=/nc_partial (\S+) ({.+})/,x="nc_partial_",v=x+"data",q=l.console,N={SCRIPT:"src",LINK:"href"}})(window,document,sessionStorage,encodeURIComponent,Array.isArray,JSON.parse);
